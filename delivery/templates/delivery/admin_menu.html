{% load static %}
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Food Delivery</title>
    <style>
      nav {
        background-color: #1d1a1a;
        padding: 15px;
        display: flex;
        justify-content: space-between;
        align-items: center;
      }
      
      .hero-image img {
        height: 80px; /* Adjust this as needed (e.g., 40px‚Äì80px) */
        width: auto;
        object-fit: contain;
        border-radius: 10px; /* Optional: rounded corners */
      }

      nav h2 {
        color: #fff;
        font-size: 24px;
        margin: 0;
        padding-right: 800px;
      }

      .nav-links {
        display: flex;
        gap: 10px;
      }

      .nav-links a {
        text-decoration: none;
        margin-left: 15px;
        padding: 10px 18px;
        font-weight: 600;
        border-radius: 6px;
        color: #fff;
        transition: all 0.3s ease;
        background-color: transparent;
        border: 2px solid  #ffa726;
      }

      .nav-links a:hover {
        background-color:  #ffa726;
        transform: scale(1.05);
      }
    </style>
  </head>
  <body>
    <nav>
      <div class="hero-image">
        <a href="{% url 'delivery:admin_home' %}">
          <img src="{% static 'delivery/images/logo3.jpg' %}" alt="Indian Dish">
        </a>
      </div>
      <h2 style="color: white">Indian Food Restaurant</h2>
      <div class="nav-links">
        <a href="{% url 'delivery:about' %}">About Us</a>
        <a href="{% url 'delivery:admin_res' %}">Restuarants</a>
      </div>
    </nav>
  </body>
</html>
<div style="margin-top: 50px"></div>

<!DOCTYPE html>
<html lang="en">
<head>
<!------------After Nav bar-->
{% block content %}
<style>
  body {
    background-color: #fff;
    font-family: 'Poppins', sans-serif;
    margin: 0;
    padding: 0;
  }

  .menu-header {
    text-align: center;
    margin-top: 50px;
  }

  .menu-header h2 {
    font-size: 2.2rem;
    color: #222;
    font-weight: 700;
  }

  .menu-header p {
    color: #555;
    font-size: 1rem;
  }

  .menu-container {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(270px, 1fr));
    gap: 25px;
    padding: 40px 80px;
  }

  .menu-card {
    background: #fff;
    border-radius: 18px;
    box-shadow: 0 4px 16px rgba(0, 0, 0, 0.08);
    transition: transform 0.3s ease, box-shadow 0.3s ease;
    overflow: hidden;
  }

  .menu-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 6px 22px rgba(0, 0, 0, 0.15);
  }

  .menu-card img {
    width: 100%;
    height: 180px;
    object-fit: cover;
  }

  .menu-card-content {
    padding: 18px;
  }

  .menu-card-content h3 {
    font-size: 1.3rem;
    color: #333;
    margin-bottom: 10px;
  }

  .menu-card-content p {
    font-size: 0.95rem;
    color: #666;
    margin-bottom: 5px;
  }

  .price {
    font-weight: bold;
    color: #e67e22;
  }

  .availability {
    font-weight: 500;
    color: #28a745;
  }

  .not-available {
    color: #dc3545;
  }

  .button-group {
    display: flex;
    flex-direction: row;   /* stack buttons vertically */
    gap: 160px;                 /* space between buttons */
    margin-top: 10px;
  }

  .button-group a {
    width: fit-content;       /* keep buttons left-aligned */
  }

  .btn {
    background-color: #f39c12;
    border: none;
    color: white;
    padding: 8px 15px;
    border-radius: 8px;
    cursor: pointer;
    font-weight: 600;
    transition: background 0.3s ease;
  }

  .menu-card-content a {
    text-decoration: none;
  }

  .btn:hover {
    background-color: #d35400;
  }

  .cart-link {
    display: inline-block;
    text-decoration: none;
    background: #2ecc71;
    color: white;
    font-weight: 600;
    padding: 10px 18px;
    border-radius: 8px;
    transition: 0.3s ease;
    margin-bottom: 30px;
  }

  .cart-link:hover {
    background: #27ae60;
  }

  .modal {
  display: none; 
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: rgba(0,0,0,0.4);
  justify-content: center;
  align-items: center;
  z-index: 9999;
  }

  .modal-content {
    background: white;
    padding: 20px 30px;
    border-radius: 12px;
    width: 350px;
    text-align: center;
    box-shadow: 0 4px 12px rgba(0,0,0,0.3);
    animation: fadeIn 0.2s ease-in-out;
  }

  .modal-buttons {
    margin-top: 20px;
    display: flex;
    justify-content: space-around;
  }

  .yes-btn {
    background: #007bff;
    color: white;
  }

  .no-btn {
    background: #ccc;
  }

  @keyframes fadeIn {
    from { transform: scale(0.8); opacity: 0; }
    to { transform: scale(1); opacity: 1; }
  }

</style>
<script>
function showConfirm(message, callback) {
    const modal = document.getElementById("confirmModal");
    const confirmText = document.getElementById("confirmText");
    const yesBtn = document.getElementById("confirmYes");
    const noBtn = document.getElementById("confirmNo");

    confirmText.textContent = message;
    modal.style.display = "flex";

    yesBtn.onclick = function () {
        modal.style.display = "none";
        callback(true);
    };
    noBtn.onclick = function () {
        modal.style.display = "none";
        callback(false);
    };
}
</script>
</head>
<body>
  <div class="menu-header">
    <h2>Menu for {{ res.Res_name }}</h2>
    <p>üìç {{ res.address }}</p>
    <p><strong>Category:</strong> {{ res.Food_cat }} | ‚≠ê <strong>{{ res.rating }}/5</strong></p>
    <a href="{% url 'delivery:add_menu' id %}" class="cart-link">üõí Add Menu</a>
  </div>

  <div class="menu-container">
    {% for item in menu %}
    <div class="menu-card">
      <img src="{{ item.img }}" alt="{{ item.item_name }}">
      <div class="menu-card-content">
        <h3>{{ item.item_name }}</h3>
        <p>{{ item.description }}</p>
        <p class="price">üí∞ ‚Çπ{{ item.price }}</p>
        <p class="{% if item.is_available %}availability{% else %}not-available{% endif %}">
          {% if item.is_available %}Available{% else %}Not Available{% endif %}
        </p>
        <div class="button-group">  
          <!-- Delete -->
          <a href="#" onclick="showConfirm('Are you sure you want to delete this item?', (ans)=>{ if(ans){ window.location.href='{% url 'delivery:delete_menu' item.id %}'; } }); return false;">
            <button class="btn">Delete</button>
          </a>
          <!-- Edit -->
          <a href="#" onclick="showConfirm('Do you want to edit this menu item?', (ans)=>{ if(ans){ window.location.href='{% url 'delivery:edit_menu' item.id %}'; } }); return false;">
            <button class="btn">Edit</button>
          </a>
        </div>
      </div>
    </div>
    {% empty %}
    <p style="grid-column: 1 / -1; text-align: center;">No menu items available.</p>
    {% endfor %}
  </div>
  {% endblock %}
  <!-- Custom Modal -->
<div id="confirmModal" class="modal">
  <div class="modal-content">
    <p id="confirmText">Are you sure?</p>
    <div class="modal-buttons">
      <button id="confirmYes" class="btn yes-btn">Yes</button>
      <button id="confirmNo" class="btn no-btn">No</button>
    </div>
  </div>
</div>
</body>